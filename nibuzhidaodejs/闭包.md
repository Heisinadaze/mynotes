
### 理解
函数调用函数
引出了全局变量和局部变量的概念

闭包只能获取到函数中变量的最后一个值

```
function test () {
    var arr = []
    for (var i = 0; i < 10; i++) {
        arr[i] = function () {
            return i
        }
    }
    for (var j = 0; j < 10; j++) {
        console.log(arr[j]())
    }
}
test() // 10个10

```

解决方法1： for循环var换成let

```

var name = 'Windows'

var obj = {
    name: 'Object',
    getName: function () {
        console.log(this)
        return function () {
            console.log(this)
        }
    }
}

obj.getName()() // window

```

匿名函数的执行环境指向this。

## 应用
```
function Animal () {
    var series = '动物'
    function run () {
        console.log('Run')
    }
    this.getSeries = function () {
        return series
    }
}
```
